"use strict";(globalThis.webpackChunktechnical_notes_for_microsoft_workloads_on_aws=globalThis.webpackChunktechnical_notes_for_microsoft_workloads_on_aws||[]).push([[6428],{6730(e,n,i){i.r(n),i.d(n,{assets:()=>c,contentTitle:()=>l,default:()=>h,frontMatter:()=>o,metadata:()=>s,toc:()=>r});const s=JSON.parse('{"id":"Code Repo/EC2_Pricing_and_Availability/index","title":"EC2 Pricing and Availability","description":"Find which AWS Regions and AZs an EC2 instance type is available in, plus the on-demand price for Windows and Linux.","source":"@site/docs/Code Repo/EC2_Pricing_and_Availability/index.md","sourceDirName":"Code Repo/EC2_Pricing_and_Availability","slug":"/Code Repo/EC2_Pricing_and_Availability/","permalink":"/technical-notes-for-microsoft-workloads-on-aws/Code Repo/EC2_Pricing_and_Availability/","draft":false,"unlisted":false,"editUrl":"https://github.com/aws-samples/technical-notes-for-microsoft-workloads-on-aws/blob/main/docusaurus/docs/Code Repo/EC2_Pricing_and_Availability/index.md","tags":[],"version":"current","frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Code Repo","permalink":"/technical-notes-for-microsoft-workloads-on-aws/Code Repo/"},"next":{"title":"Workshops","permalink":"/technical-notes-for-microsoft-workloads-on-aws/Workshops"}}');var a=i(4848),t=i(8453);const o={},l="EC2 Pricing and Availability",c={},r=[{value:"Use case:",id:"use-case",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",img:"img",p:"p",pre:"pre",...(0,t.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"ec2-pricing-and-availability",children:"EC2 Pricing and Availability"})}),"\n",(0,a.jsx)(n.p,{children:"Find which AWS Regions and AZs an EC2 instance type is available in, plus the on-demand price for Windows and Linux."}),"\n",(0,a.jsx)(n.h2,{id:"use-case",children:"Use case:"}),"\n",(0,a.jsx)(n.p,{children:"When a new AWS EC2 Instance type is released, it may initially be limited to a few AWS Regions and Availability Zones (AZs). Additionally, the hourly instance price may differ between Regions."}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://github.com/aws-samples/technical-notes-for-microsoft-workloads-on-aws/blob/30fcc982928f8911ce5ec5a6d662e1c11d31e7c1/docusaurus/docs/Code%20Repo/EC2_Pricing_and_Availability/Scripts/get-instance-availability.ps1",children:"This PowerShell script"})," generates a consolidated table showing the Region, Availability Zone, and On-Demand Price for specified instance sizes.  This can be helpful when selecting the best locaction to launch EC2 Instances."]}),"\n",(0,a.jsxs)(n.p,{children:["Example: ",(0,a.jsx)(n.code,{children:"m8a"})," instances are available in 3 of the 6 AZs in us-east-1."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Region                   AvailabilityZones\n------                   ----------------- \nUS East (N. Virginia)    use1-az2, use1-az4, use1-az6\n"})}),"\n",(0,a.jsxs)(n.p,{children:["Example: the ",(0,a.jsx)(n.code,{children:"m8a.xlarge"})," instance hourly, on-demand price compared by OS and Region:"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{children:"Region                   LinuxPrice WindowsPrice\n------                   ---------- ------------\nUS East (N. Virginia)    $0.243     $0.427\nAsia Pacific (Tokyo)     $0.314     $0.498\n"})}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsxs)(n.a,{href:"https://github.com/aws-samples/technical-notes-for-microsoft-workloads-on-aws/blob/30fcc982928f8911ce5ec5a6d662e1c11d31e7c1/docusaurus/docs/Code%20Repo/EC2_Pricing_and_Availability/Scripts/get-instance-availability.ps1",children:["The ",(0,a.jsx)(n.code,{children:"get-instance-availability.ps1"})," script"]})," queries all enabled AWS Regions to find where the specified EC2 instance types are available, and shows the Availability Zones or ZoneIDs, plus the on-demand pricing for Linux and Windows."]}),"\n",(0,a.jsxs)(n.p,{children:["Use the ",(0,a.jsx)(n.code,{children:"-ZoneID"})," switch to show AZ IDs (e.g., use2-az1) instead of AZ names (e.g., us-east-2a)"]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.a,{href:"https://github.com/aws-samples/technical-notes-for-microsoft-workloads-on-aws/blob/30fcc982928f8911ce5ec5a6d662e1c11d31e7c1/docusaurus/docs/Code%20Repo/EC2_Pricing_and_Availability/Scripts/get-instance-availability.ps1",children:"The PowerShell script"})," retrieves real-time pricing data from the AWS Pricing API and displays results\nin a formatted table showing regional availability and hourly costs."]}),"\n",(0,a.jsxs)(n.p,{children:["RECOMMENDED: Run ",(0,a.jsx)(n.a,{href:"https://github.com/aws-samples/technical-notes-for-microsoft-workloads-on-aws/blob/30fcc982928f8911ce5ec5a6d662e1c11d31e7c1/docusaurus/docs/Code%20Repo/EC2_Pricing_and_Availability/Scripts/get-instance-availability.ps1",children:"this PowerShell script"})," from AWS ",(0,a.jsx)(n.a,{href:"https://docs.aws.amazon.com/cloudshell/latest/userguide/welcome.html",children:"CloudShell"})," for the best experience. CloudShell comes with ",(0,a.jsx)(n.a,{href:"https://docs.aws.amazon.com/powershell/v5/userguide/pstools-getting-set-up-cloudshell.html",children:"PowerShell and AWS modules pre-installed"}),", and credentials are automatically configured. Simply ",(0,a.jsx)(n.a,{href:"https://docs.aws.amazon.com/cloudshell/latest/userguide/getting-started.html#folder-upload",children:"upload"})," the script and run it."]}),"\n",(0,a.jsx)(n.p,{children:"Examples Syntax:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-bash",children:'.PARAMETER InstanceType\n    One or more EC2 instance types to query. Accepts comma-separated values.\n    Default: m8a.xlarge\n\n.PARAMETER SortBy\n    Sort results by Region, LinuxPrice, or WindowsPrice.\n    Default: WindowsPrice\n\n.PARAMETER ZoneId\n    Display AZ IDs (e.g., use2-az1) instead of AZ names (e.g., us-east-2a).\n\n.EXAMPLE\n    pwsh -File get-instance-availability.ps1\n    Run with default parameters (m8a.xlarge, sorted by WindowsPrice).\n\n.EXAMPLE\n    pwsh -File get-instance-availability.ps1 -InstanceType m8a.2xlarge\n    Query availability and pricing for m8a.2xlarge instances across all regions.\n\n.EXAMPLE\n    pwsh -File get-instance-availability.ps1 -InstanceType "m7i.2xlarge,m8i.2xlarge" -SortBy WindowsPrice\n    Query multiple instance types and sort results by Windows pricing.\n\n.EXAMPLE\n    pwsh -File get-instance-availability.ps1 -InstanceType m8a.xlarge -SortBy Region\n    Query m8a.xlarge instances and sort results alphabetically by region name.\n\n.EXAMPLE\n    pwsh -File get-instance-availability.ps1 -ZoneId\n    Display results with AZ IDs (use2-az1) instead of AZ names (us-east-2a).\n\n.NOTES\n    Author: coolcrai@amazon.com\n    Version: 1.0\n    Last Updated: October 23, 2025\n    \n    \nRequirements:\n    - AWS PowerShell modules: AWS.Tools.EC2, AWS.Tools.Pricing (preconfigured in AWS CloudShell)\n    - Valid AWS credentials configured (preconfigured in AWS CloudShell)\n    - Pricing API access (queries us-east-1 region)\n\nPricing Information:\n    - Linux pricing is for standard Linux instances\n    - Windows pricing includes license costs (License Included model)\n    - All prices are hourly, on-demand rates in USD\n\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Example output from ",(0,a.jsx)(n.a,{href:"https://docs.aws.amazon.com/cloudshell/latest/userguide/welcome.html",children:"CloudShell"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:'$ pwsh -File get-instance-availability.ps1 -InstanceType "m7a.xlarge, m8a.xlarge"'}),"\n",(0,a.jsx)(n.img,{src:i(6215).A+"",width:"984",height:"564"})]}),"\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"$ pwsh -File get-instance-availability.ps1 -InstanceType p5.4xlarge"}),"\n",(0,a.jsx)(n.img,{src:i(478).A+"",width:"2394",height:"754"})]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(d,{...e})}):d(e)}},6215(e,n,i){i.d(n,{A:()=>s});const s=i.p+"assets/images/m7a-m8a_example-eb1b77978598605c9ee12e0576e104d5.png"},478(e,n,i){i.d(n,{A:()=>s});const s=i.p+"assets/images/p5.4xlarge-cc2d09f11c1d1fa37bff9d2629557f9f.png"},8453(e,n,i){i.d(n,{R:()=>o,x:()=>l});var s=i(6540);const a={},t=s.createContext(a);function o(e){const n=s.useContext(t);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(t.Provider,{value:n},e.children)}}}]);