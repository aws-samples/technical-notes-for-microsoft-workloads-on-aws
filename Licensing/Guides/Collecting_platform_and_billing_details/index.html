<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-Licensing/Guides/Collecting_platform_and_billing_details/index" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Collecting platform and billing details for Microsoft licensing on AWS | Technical Notes for Microsoft Workloads on AWS</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://aws-samples.github.io/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/Collecting_platform_and_billing_details/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Collecting platform and billing details for Microsoft licensing on AWS | Technical Notes for Microsoft Workloads on AWS"><meta data-rh="true" name="description" content="by Rob Higareda"><meta data-rh="true" property="og:description" content="by Rob Higareda"><link data-rh="true" rel="icon" href="/technical-notes-for-microsoft-workloads-on-aws/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://aws-samples.github.io/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/Collecting_platform_and_billing_details/"><link data-rh="true" rel="alternate" href="https://aws-samples.github.io/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/Collecting_platform_and_billing_details/" hreflang="en"><link data-rh="true" rel="alternate" href="https://aws-samples.github.io/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/Collecting_platform_and_billing_details/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Licensing","item":"https://aws-samples.github.io/technical-notes-for-microsoft-workloads-on-aws/Licensing/"},{"@type":"ListItem","position":2,"name":"Guides","item":"https://aws-samples.github.io/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/"},{"@type":"ListItem","position":3,"name":"Collecting platform and billing details","item":"https://aws-samples.github.io/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/Collecting_platform_and_billing_details/"}]}</script><link rel="alternate" type="application/rss+xml" href="/technical-notes-for-microsoft-workloads-on-aws/blog/rss.xml" title="Technical Notes for Microsoft Workloads on AWS RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/technical-notes-for-microsoft-workloads-on-aws/blog/atom.xml" title="Technical Notes for Microsoft Workloads on AWS Atom Feed"><link rel="stylesheet" href="/technical-notes-for-microsoft-workloads-on-aws/assets/css/styles.baf47ba0.css">
<script src="/technical-notes-for-microsoft-workloads-on-aws/assets/js/runtime~main.7bb04809.js" defer="defer"></script>
<script src="/technical-notes-for-microsoft-workloads-on-aws/assets/js/main.36a82cb6.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")),document.documentElement.setAttribute("data-theme-choice",t||"system")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/technical-notes-for-microsoft-workloads-on-aws/img/logo.svg"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/technical-notes-for-microsoft-workloads-on-aws/"><div class="navbar__logo"><img src="/technical-notes-for-microsoft-workloads-on-aws/img/logo.svg" alt="AWS Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/technical-notes-for-microsoft-workloads-on-aws/img/logo.svg" alt="AWS Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Technical Notes for Microsoft Workloads on AWS</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/technical-notes-for-microsoft-workloads-on-aws/home">Home</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/technical-notes-for-microsoft-workloads-on-aws/DotNET/Guides/">.NET</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/technical-notes-for-microsoft-workloads-on-aws/Active Directory/Guides/">Active Directory</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/technical-notes-for-microsoft-workloads-on-aws/Windows Containers/Guides/">Windows Containers</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/technical-notes-for-microsoft-workloads-on-aws/SQL Server/Guides/">SQL Server</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/technical-notes-for-microsoft-workloads-on-aws/EC2 Windows/Guides/">EC2 Windows</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/">Licensing</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/technical-notes-for-microsoft-workloads-on-aws/Desktop Engineering/Guides/">Desktop Engineering</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/aws-samples/technical-notes-for-microsoft-workloads-on-aws" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"><div class="navbar__search searchBarContainer_NW3z" dir="ltr"><input placeholder="Search" aria-label="Search" class="navbar__search-input searchInput_YFbd" value=""><div class="loadingRing_RJI3 searchBarLoadingRing_YnHq"><div></div><div></div><div></div><div></div></div></div></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/technical-notes-for-microsoft-workloads-on-aws/home">About Technical Notes for Microsoft Workloads on AWS</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technical-notes-for-microsoft-workloads-on-aws/Desktop Engineering/">Desktop Engineering</a><button aria-label="Expand sidebar category &#x27;Desktop Engineering&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technical-notes-for-microsoft-workloads-on-aws/DotNET/">.NET</a><button aria-label="Expand sidebar category &#x27;.NET&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technical-notes-for-microsoft-workloads-on-aws/Active Directory/">Active Directory</a><button aria-label="Expand sidebar category &#x27;Active Directory&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technical-notes-for-microsoft-workloads-on-aws/Windows Containers/">Windows Containers</a><button aria-label="Expand sidebar category &#x27;Windows Containers&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technical-notes-for-microsoft-workloads-on-aws/SQL Server/">SQL Server</a><button aria-label="Expand sidebar category &#x27;SQL Server&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/technical-notes-for-microsoft-workloads-on-aws/EC2 Windows/">EC2 Windows</a><button aria-label="Expand sidebar category &#x27;EC2 Windows&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/">Licensing</a><button aria-label="Collapse sidebar category &#x27;Licensing&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" tabindex="0" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/License_Mobility/">License Mobility</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/Collecting_platform_and_billing_details/">Collecting platform and billing details</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-3 menu__list-item"><a class="menu__link" tabindex="0" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/Migrate_from_BYOL_with_Dedicated_Hosts_to_Shared_Tenancy/">Migrate from BYOL with Dedicated Hosts to Shared Tenancy</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/FAQs/">Licensing FAQs</a></li></ul></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/technical-notes-for-microsoft-workloads-on-aws/Workshops">Workshops</a></li></ul></nav><button type="button" title="Collapse sidebar" aria-label="Collapse sidebar" class="button button--secondary button--outline collapseSidebarButton_PEFL"><svg width="20" height="20" aria-hidden="true" class="collapseSidebarButtonIcon_kv0_"><g fill="#7a7a7a"><path d="M9.992 10.023c0 .2-.062.399-.172.547l-4.996 7.492a.982.982 0 01-.828.454H1c-.55 0-1-.453-1-1 0-.2.059-.403.168-.551l4.629-6.942L.168 3.078A.939.939 0 010 2.528c0-.548.45-.997 1-.997h2.996c.352 0 .649.18.828.45L9.82 9.472c.11.148.172.347.172.55zm0 0"></path><path d="M19.98 10.023c0 .2-.058.399-.168.547l-4.996 7.492a.987.987 0 01-.828.454h-3c-.547 0-.996-.453-.996-1 0-.2.059-.403.168-.551l4.625-6.942-4.625-6.945a.939.939 0 01-.168-.55 1 1 0 01.996-.997h3c.348 0 .649.18.828.45l4.996 7.492c.11.148.168.347.168.55zm0 0"></path></g></svg></button></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/technical-notes-for-microsoft-workloads-on-aws/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/"><span>Licensing</span></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/"><span>Guides</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Collecting platform and billing details</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Collecting platform and billing details for Microsoft licensing on AWS</h1></header>
<p>by Rob Higareda</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="introduction">Introduction<a href="#introduction" class="hash-link" aria-label="Direct link to Introduction" title="Direct link to Introduction">​</a></h2>
<p>When you’re running Microsoft Windows workloads on AWS, you may want to review your Microsoft licensing usage. AWS allows you to leverage your existing Microsoft license investments through <a href="https://aws.amazon.com/windows/resources/licensing/#Bring_existing_licenses_to_Dedicated_Hosts" target="_blank" rel="noopener noreferrer">Bring Your Own License</a> (BYOL), subject to Microsoft’s license terms. You also have the option to use AWS <a href="https://aws.amazon.com/windows/resources/licensing/#Launch_licensed_Amazon_Machine_Images" target="_blank" rel="noopener noreferrer">License Included</a> (LI) instances to take advantage of pay-as-you-go (PAYG) licensing for Microsoft workloads. License included <a href="https://aws.amazon.com/ec2/" target="_blank" rel="noopener noreferrer">Amazon Elastic Cloud Compute</a> (Amazon EC2) instances include the licensing cost of Microsoft Windows Server and/or Microsoft SQL Server in the compute costs. Regardless of which option you choose, or if you have a mixture of bring your own license and license included, you can inventory your Amazon EC2 instances for Microsoft licenses. With this inventory process, you will have visibility into whether you are using AWS LI or BYOL for Windows Server and/or SQL Server. AWS License Manager is a free tool that can be used to track your licenses, however if you are not using this, you will need to create a manual report to find your license usage. There are a couple of ways of doing this depending on the size of your environment.</p>
<p><a href="https://aws.amazon.com/blogs/modernizing-with-aws/collecting-platform-and-billing-details-for-microsoft-licensing-on-aws/" target="_blank" rel="noopener noreferrer">Collecting platform and billing details for Microsoft licensing on AWS</a> blog post covers a manual method of collecting this information and point you to <a href="https://aws.amazon.com/blogs/modernizing-with-aws/how-to-create-an-amazon-ec2-ami-usage-and-billing-information-report/" target="_blank" rel="noopener noreferrer">How to create an Amazon EC2 AMI usage and billing information report</a> blog post for an automated solution.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="manual-collection-process">Manual collection process<a href="#manual-collection-process" class="hash-link" aria-label="Direct link to Manual collection process" title="Direct link to Manual collection process">​</a></h2>
<p>AWS uses an <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/billing-info-fields.html#billing-info" target="_blank" rel="noopener noreferrer">AWS billing code</a> to show how you’re billed for EC2 instances. For EC2 instances that are BYOL for Microsoft Windows Server and Microsoft SQL Server, AWS does not charge you for the license. There is a Microsoft requirement to host instances leveraging Windows Server BYOL on dedicated infrastructure (<a href="https://aws.amazon.com/ec2/dedicated-hosts/" target="_blank" rel="noopener noreferrer">EC2 Dedicated Hosts</a>). For Microsoft SQL Server if you have Software Assurance, you can run it on Shared Tenancy EC2. If you don’t have Software Assurance for SQL Server, you will need to leverage Dedicated Hosts as well (You can read more about all the licenses requirements <a href="https://aws.amazon.com/blogs/modernizing-with-aws/explore-licensing-options-for-your-microsoft-workloads-on-aws/" target="_blank" rel="noopener noreferrer">here</a>). For EC2 instances leveraging AWS LI, AWS includes the licensing costs and compute costs. This removes the licensing responsibilities from you. The commands we will use show the Instance ID, and the corresponding AWS billing code. This helps determine whether you have supplied the Microsoft Windows Server and SQL Server licenses, or if you are leveraging pay as you go from Amazon with LI. For this article, we focus on Table 1, listing Platform Details and Usage Operations.</p>
<table><thead><tr><th>Platform Details</th><th>Usage Opertaions</th></tr></thead><tbody><tr><td>Windows</td><td>RunInstances:0002</td></tr><tr><td>Windows BYOL</td><td>RunInstances:0800</td></tr><tr><td>Windows with SQL Server Enterprise *</td><td>RunInstances:0102</td></tr><tr><td>Windows with SQL Server Standard *</td><td>RunInstances:0006</td></tr><tr><td>SQL Server Enterprise</td><td>RunInstances:0100</td></tr><tr><td>SQL Server Standard</td><td>RunInstances:0004</td></tr><tr><td>SQL Server Web</td><td>RunInstances:0200</td></tr></tbody></table>
<ul>
<li>If two software licenses are associated with an AMI, the Platform details field shows both.</li>
</ul>
<p>The table shows the variations of items for Microsoft products and their associated AWS billing code. In case your organization requires a formal review, you will need details in a reportable manner. Your goal will be to show which of your instances in AWS are license included or bring your own license. That can be determined by the RunInstances code in the table.</p>
<p>This first command is an output in JSON format, which is shown in Figure 1. run the example command to get information about your EC2 instances.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-instances --query &#x27;Reservations[].Instances[].{InstanceId:InstanceId, PlatformDetails:PlatformDetails, UsageOperation:UsageOperation, State:State}&#x27; --output json </span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Instance Info JSON Format" src="/technical-notes-for-microsoft-workloads-on-aws/assets/images/IM0Q-kejTvSo2iILMtLhOjUw-8003885ee9641bc2099615ef8fa2d81a.png" width="1640" height="730" class="img_ev3q"></p>
<p>This command provides a human-readable format. It uses the same filters as the previous command, but as shown in figure 2, it’s now in tabular format. The only change we’ve made to the command is to use the –output table option.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-instances --query &#x27;Reservations[].Instances[].{InstanceId:InstanceId, PlatformDetails:PlatformDetails, UsageOperation:UsageOperation}&#x27; --output table</span><br></span></code></pre></div></div>
<p><img decoding="async" loading="lazy" alt="Instance info no running state" src="/technical-notes-for-microsoft-workloads-on-aws/assets/images/EC2Query2-1024x391-0aaa3fa34f4c618d2f2bdd964743f3cf.png" width="1024" height="391" class="img_ev3q"></p>
<p>If you need to provide this as a report to another team, this is possible by exporting the data to file. To do this, you simply need to add an output method to the commands.</p>
<p>The following command uses the same parameters as the JSON output command but writes it to text. In this example it’s being sent to a file named instancenilling.txt as an output.</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">aws ec2 describe-instances --query ‘Reservations[].Instances[].{InstanceId:InstanceId, PlatformDetails:PlatformDetails, UsageOperation:UsageOperation}’ --output text &gt; instancebilling.txt</span><br></span></code></pre></div></div>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="automated-collection-process">Automated collection process<a href="#automated-collection-process" class="hash-link" aria-label="Direct link to Automated collection process" title="Direct link to Automated collection process">​</a></h2>
<p>While the previous AWS CLI commands work for a few accounts; If you have hundreds of accounts in various regions, it is a tedious process to run the CLI command. Luckily, there’s a solution that exists to help get this information at scale. While this article will not cover the solution in-depth, the <a href="https://aws.amazon.com/blogs/modernizing-with-aws/how-to-create-an-amazon-ec2-ami-usage-and-billing-information-report/" target="_blank" rel="noopener noreferrer">How to create an Amazon EC2 AMI usage and billing information report</a> blog is here to help. It explains the use of the AWS Billing info and similarly uses the previous AWS CLI commands to collect this information for you in an automated way. This allows multi-account, multi-region aggregation of the data into one location. The blog highlights the details for deploying the solution, and in the end, you will have a solution like the image in Figure 4. The architecture diagram includes your AWS central account, for inventory collection, including your AWS workloads account, where your EC2 instances are running Windows and SQL Server. It also leverages AWS Systems Manager run commands that automate the collection of billing codes from your EC2 instances in each account. All this data is then sent back to your central account for review.</p>
<p><img decoding="async" loading="lazy" alt="Billing Info Solution" src="/technical-notes-for-microsoft-workloads-on-aws/assets/images/IMU_9_W1EeTH-NvH2huwDLwg-171087f8045cbf092c4a6c18bd6e5e01.png" width="1280" height="720" class="img_ev3q"></p>
<p>With the deployed solution you will track if you are using BYOL or LI, and have a report listed by instance automatically created for you.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-licenses-to-consider-and-how-to-inventory-them">Other licenses to consider and how to inventory them<a href="#other-licenses-to-consider-and-how-to-inventory-them" class="hash-link" aria-label="Direct link to Other licenses to consider and how to inventory them" title="Direct link to Other licenses to consider and how to inventory them">​</a></h2>
<p>For customers running Microsoft workloads in AWS, or looking to migrate workloads to AWS commercial licenses can be a large cost item for them. Ahead of a migration, audit, or Microsoft Enterprise Agreement renewal, customers should consider doing an Optimization and Licensing Assessment with AWS. An OLA helps avoid unnecessary licensing costs with the results generated though the AWS OLA process. During an OLA, AWS models licensing scenarios, including license-included or BYOL instances, for flexibility in managing seasonal workloads and agile experimentation. An AWS OLA models both dedicated and license-included environments, letting you pay for what you use to get the most out of your cloud compute and licensing costs. AWS Can additionally help review SQL Server features in use by the customer and potentially help reduce costs further by downgrading SQL Server editions from Enterprise to Standard or completely remove costs in some cases where SQL Server licenses are being purchased for Developer environments.  You can read more about the <a href="https://aws.amazon.com/optimization-and-licensing-assessment/" target="_blank" rel="noopener noreferrer">OLA process online</a>.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="other-licenses-to-consider">Other licenses to consider<a href="#other-licenses-to-consider" class="hash-link" aria-label="Direct link to Other licenses to consider" title="Direct link to Other licenses to consider">​</a></h2>
<p>The previous information will provide you with insights into what is being billed by AWS for Microsoft Windows licenses and SQL Server. You will not have info about what your users have installed after the launch of an EC2 instance. There may be other Microsoft licenses you need to report on that users installed after an instance launch. These include products like Microsoft SharePoint Server, Exchange Server, Azure DevOps Server, or other software that you want to assure compliance with Microsoft licensing rules on AWS. For this, you can leverage <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/systems-manager-inventory.html" target="_blank" rel="noopener noreferrer">Inventory, a feature of AWS Systems Manager</a> as long as you have the <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/ssm-agent.html" target="_blank" rel="noopener noreferrer">Systems Manager agent</a> installed on your EC2 instances.</p>
<p>Once you have a Systems Manager Inventory setup, you will <a href="https://docs.aws.amazon.com/systems-manager/latest/userguide/sysman-inventory-configuring.html#sysman-inventory-config-collection-one-click" target="_blank" rel="noopener noreferrer">create an aggregator</a> to receive information in one location for your accounts. As displayed in Figure 5, you will find all instances and software installed.</p>
<p><img decoding="async" loading="lazy" alt="SSM Inventory Screenshot" src="/technical-notes-for-microsoft-workloads-on-aws/assets/images/IM1xDFDAxGRv68ByKRuj3qKg-c141187cf086886f09baaab7bb4fc51f.png" width="1816" height="1078" class="img_ev3q"></p>
<p>With the inventory setup, you can now export the report and use it to review software installed on your EC2 instances. To export the report, click on the Export to CSV option in the AWS console and save the file for review.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="conclusion">Conclusion<a href="#conclusion" class="hash-link" aria-label="Direct link to Conclusion" title="Direct link to Conclusion">​</a></h2>
<p>In this short guide, , we provided information to help you get insights into how to retrieve licensing information about the instances in your environment running Microsoft products. This will help you provide your organization with a detailed set of information on your licensing usage. This info is also useful to you to understand where you are spending money on commercial licenses. AWS offers a no cost program for customers to assess their compute and commercial OS licenses as well called the <a href="https://aws.amazon.com/optimization-and-licensing-assessment/" target="_blank" rel="noopener noreferrer">Optimization and Licensing Assessment</a>. Leverage this program for workloads moving to AWS and workloads currently running on AWS. Please reach out to the Microsoft on AWS Cost Optimization team if you have questions about helping to reduce costs with Microsoft workloads on AWS. You can reach the team at <a href="mailto:optimize-microsoft@amazon.com" target="_blank" rel="noopener noreferrer">optimize-microsoft@amazon.com</a>. For general licensing questions, please reach out to <a href="mailto:microsoft@amazon.com" target="_blank" rel="noopener noreferrer">microsoft@amazon.com</a>.</p>
<p>AWS has significantly more services, and more features within those services, than any other cloud provider, making it faster, easier, and more cost effective to move your existing applications to the cloud and build nearly anything you can imagine. Give your Microsoft applications the infrastructure they need to drive the business outcomes you want. Visit our .NET on AWS and AWS Database blogs for additional guidance and options for your Microsoft workloads. Contact us to start your migration and modernization journey today.</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/aws-samples/technical-notes-for-microsoft-workloads-on-aws/blob/main/docusaurus/docs/Licensing/Guides/Collecting_platform_and_billing_details/index.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/License_Mobility/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">License Mobility</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/technical-notes-for-microsoft-workloads-on-aws/Licensing/Guides/Migrate_from_BYOL_with_Dedicated_Hosts_to_Shared_Tenancy/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Migrate from BYOL with Dedicated Hosts to Shared Tenancy</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#introduction" class="table-of-contents__link toc-highlight">Introduction</a></li><li><a href="#manual-collection-process" class="table-of-contents__link toc-highlight">Manual collection process</a></li><li><a href="#automated-collection-process" class="table-of-contents__link toc-highlight">Automated collection process</a></li><li><a href="#other-licenses-to-consider-and-how-to-inventory-them" class="table-of-contents__link toc-highlight">Other licenses to consider and how to inventory them</a></li><li><a href="#other-licenses-to-consider" class="table-of-contents__link toc-highlight">Other licenses to consider</a></li><li><a href="#conclusion" class="table-of-contents__link toc-highlight">Conclusion</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Built with ❤️ at AWS. <br> © 2025.  Amazon.com, Inc. or its affiliates. All Rights Reserved.</div></div></div></footer></div>
</body>
</html>